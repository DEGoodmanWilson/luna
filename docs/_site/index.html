<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Luna</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <a href="index.html"><img src="img/luna.png" alt="luna" /></a>
        <p class="view"><a href="https://github.com/DEGoodmanWilson/luna">View the Project on GitHub <small>DEGoodmanWilson/luna</small></a></p>
        <h1>An embedded HTTP server in C++14</h1>

        <h2>Getting Started</h2>
        <ul>
          <li><a href="using.html">Using in your project</a></li>
        </ul>
        <h2>Using Luna</h2>
        <ul>
          <li><a href="configuration.html">Configuration options</a></li>
          <li><a href="simple_api_endpoint.html">Simple API endpoints</a></li>
          <li><a href="regexes.html">Endpoints using regexes</a></li>
          <li>HTTPS</li>
        </ul>
        <h2>Changelog</h2>
        <ul>
          
          
          <!-- This is a silly hack to get the Changelog page URL, but populate the sidebar with changelog entries that links into the main changelog page -->
          
            
            <li><a href="/changelog#2.8.0" >2.8.0</a></li>
          
            
            <li><a href="/changelog#2.7.1" >2.7.1</a></li>
          
            
            <li><a href="/changelog#2.7.0" >2.7.0</a></li>
          
            
            <li><a href="/changelog#2.0.0" >2.0.0</a></li>
          
            
            <li><a href="/changelog#1.0.0" >1.0.0</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        </ul>
      </header>
      <section>
      <h1 id="luna">Luna</h1>

<h2 id="an-embedded-https-server-in-modern-idiomatic-c">An embedded HTTP(S) server in modern idiomatic C++</h2>

<p>You are writing in C++ (because C++ is <em>awesome</em>), and your app needs to provide a lightweight HTTP server to communicate with other web services. <code class="highlighter-rouge">libmicrohttpd</code> is super-awesome, except for that idiomatically C API. Luna is an idiomatically C++ wrapper for <code class="highlighter-rouge">libmicrohttpd</code> that leans on modern C++ programming concepts.</p>

<p>Luna is designed to be easy to use and robust as well. HTTP server creation, start, shut down, and deletion are all handled behind the scenes with the magic of <a href="https://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization">RAII</a>. Starting a server is automatic with instantiating a <code class="highlighter-rouge">server</code> object, and allowing your <code class="highlighter-rouge">server</code> object to fall out of scope is all that is needed to cleanly shut it down. There is nothing else for you to keep track of, or allocate.</p>

<p>Adding endpoints to your server is likewise meant to be simple. Nominate an endpoint with a string or regex and an HTTP verb, and pass in a lambda or other <code class="highlighter-rouge">std::functional</code>-compatible object (function pointers, bound class member functions), and return a string containing the desired response body. Of course, you can set headers and mime types, too. (TODO: returning binary data.)</p>

<h2 id="example-code">Example code</h2>

<p>But donâ€™t take my word for it. Here is some code for serving a simple JSON snippet from a single endpoint.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#include &lt;string&gt;
#include &lt;luna/luna.h&gt;

using namespace luna;

int main(void)
{
    //start a server delivering JSON by default on the default port 8080
    server server{
        server::mime_type{"application/json"}, //the default is "text/html; charset=UTF-8"
    };

    // Handle GET requests to "localhost:8080/endpoint"
    // Respond with a tiny bit of fun JSON
    server.handle_request(request_method::GET, "/endpoint",
                          [](auto request) -&gt; response
    {
        return {"{\"made_it\": true}"};
    });

    // idle while the server is running.
    // Totally not the best way.
    // But this is demo code!
    while (server);
}
</code></pre>
</div>

<h2 id="prerequisites">Prerequisites</h2>

<p>A C++14 capable compiler (tested against gcc 4.9, clang 3.6), CMake 2.8. <a href="https://www.conan.io">Conan</a> for installing dev dependencies.</p>

<h2 id="license">License</h2>

<p><a href="https://github.com/DEGoodmanWilson/luna/blob/master/LICENSE">MIT</a></p>

<h2 id="disclaimer">Disclaimer</h2>

<p>This library has only begun, and is a contant state of flux.</p>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/DEGoodmanWilson">DEGoodmanWilson</a></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

  </body>
  </html>
