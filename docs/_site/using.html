<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Luna</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <a href="index.html"><img src="img/luna.png" alt="luna" /></a>
        <p class="view"><a href="https://github.com/DEGoodmanWilson/luna">View the Project on GitHub <small>DEGoodmanWilson/luna</small></a></p>
        <h1>An embedded HTTP server in C++14</h1>

        <h2>Getting Started</h2>
        <ul>
          <li><a href="using.html">Using in your project</a></li>
        </ul>
        <h2>Using Luna</h2>
        <ul>
          <li><a href="configuration.html">Configuration options</a></li>
          <li><a href="simple_api_endpoint.html">Simple API endpoints</a></li>
          <li><a href="regexes.html">Endpoints using regexes</a></li>
          <li>HTTPS</li>
        </ul>
        <h2>Changelog</h2>
        <ul>
          
          
          <!-- This is a silly hack to get the Changelog page URL, but populate the sidebar with changelog entries that links into the main changelog page -->
          
            
            <li><a href="/changelog#2.8.0" >2.8.0</a></li>
          
            
            <li><a href="/changelog#2.7.1" >2.7.1</a></li>
          
            
            <li><a href="/changelog#2.7.0" >2.7.0</a></li>
          
            
            <li><a href="/changelog#2.0.0" >2.0.0</a></li>
          
            
            <li><a href="/changelog#1.0.0" >1.0.0</a></li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        </ul>
      </header>
      <section>
      <h1 id="using-luna-with-your-project">Using Luna with your project</h1>

<p>Luna has been built and tested on macOS and Linux. (I’d like some help getting it working on Windows, if you have the time and inclination!)</p>

<p>Luna also depends upon the CMake build system, and the Conan dependency manager.</p>

<h2 id="installing-dependencies-with-conan">Installing dependencies with Conan</h2>

<p>Luna is available from (and makes use of the) the <a href="https://www.conan.io">Conan</a> dependency manager. And so should you. It’s pretty good.</p>

<p>To incorporate Luna into your project using Conan, create a file called <code class="highlighter-rouge">conanfile.txt</code>, and add the following:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[requires]
luna/2.8.0@DEGoodmanWilson/stable
</code></pre>
</div>

<p>If you are using <a href="http://docs.conan.io/en/latest/conanfile_py.html">more advanced Conan features</a>, you can just add this to your <code class="highlighter-rouge">conanfile.py</code></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyAwesomeProject</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">)</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s">"luna/2.8.0@DEGoodmanWilson/stable"</span>
    <span class="o">...</span>
</code></pre>
</div>

<p>At any rate, <em>from your build directory</em>, simply run</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>conan install --build<span class="o">=</span>missing path/to/source
</code></pre>
</div>

<p>(The <code class="highlighter-rouge">--build=missing</code> is because at the moment Luna only offers source installs&amp;emdash;we’ll offer pre-built binaries before too long, just you see.)</p>

<p>(You can read more about using Conan with your project <a href="http://docs.conan.io/en/latest/">in the Conan docs</a>)</p>

<h3 id="conan-options">Conan options</h3>

<p>You can fiddle with the following options for your build:</p>

<ul>
  <li><code class="highlighter-rouge">build_shared_libs</code> Build Luna as a dynamic/shared library. Default is to build as a static library. Building shared libraries is basically untested at the moment.</li>
</ul>

<p>The following options exist, but only really affect development of Luna</p>

<ul>
  <li><code class="highlighter-rouge">build_luna_tests</code> Build the Luna test suite. Default is not to.</li>
  <li><code class="highlighter-rouge">build_luna_examples</code> Build the included Luna example projects. Default is not to.</li>
  <li><code class="highlighter-rouge">build_luna_coverage</code> Build the Luna coverage suite. Implies <code class="highlighter-rouge">build_luna_tests=True</code>. Default is not to.</li>
</ul>

<h2 id="cmake">CMake</h2>

<p>If you’ve never used Conan before, it works with a wide range of project toolchains, but Conan works best with CMake. Add the following lines somewhere near the top of your <code class="highlighter-rouge">CMakeLists.txt</code>:</p>

<div class="language-cmake highlighter-rouge"><pre class="highlight"><code><span class="nb">include</span><span class="p">(</span><span class="si">${</span><span class="nv">CMAKE_BINARY_DIR</span><span class="si">}</span>/conanbuildinfo.cmake<span class="p">)</span>
<span class="nf">conan_basic_setup</span><span class="p">()</span>
</code></pre>
</div>

<p>Then you can run CMake as usual</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>cmake path/to/source
cmake --build .
</code></pre>
</div>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/DEGoodmanWilson">DEGoodmanWilson</a></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

  </body>
  </html>
